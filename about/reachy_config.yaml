# Training configuration for "Reachy" wake word model
# Optimized for RTX 4090 GPU

# Basic model settings
target_phrase: ["reachy"]  # The wake word to train
model_name: "reachy"

# Sample generation settings (TTS with Piper)
piper_sample_generator_path: "/home/localuser/source/reachy/openWakeWord/piper-sample-generator"
tts_model_path: "/home/localuser/source/reachy/openWakeWord/piper-sample-generator/models/en_US-libritts_r-medium.pt"
n_samples: 5000  # Number of synthetic positive training samples
n_samples_val: 1000  # Number of validation samples
tts_batch_size: 50  # Batch size for TTS generation (optimized for RTX 4090)

# Training parameters (PRODUCTION SETTINGS - with ACAV100M)
steps: 50000  # Training steps (increased for large dataset)
target_accuracy: 0.7  # Target accuracy metric
target_recall: 0.5  # Target recall metric
target_false_positives_per_hour: 0.2  # Target false positive rate per hour
batch_n_per_class:  # Number of samples per class in each batch
  "ACAV100M_sample": 1024  # Large negative dataset (heavily weighted)
  "adversarial_negative": 50  # Phonetically similar negatives
  "positive": 50  # Wake word samples
max_negative_weight: 1500  # Maximum weight for negative samples (increased for production)

# Model architecture
model_type: "dnn"  # Deep neural network
layer_size: 128  # Hidden layer dimension
n_blocks: 1  # Number of hidden blocks

# Paths for audio augmentation
rir_paths:  # Room impulse response files
  - "/home/localuser/source/reachy/openWakeWord/piper-sample-generator/impulses"
augmentation_rounds: 2  # Number of times to augment each clip
augmentation_batch_size: 100  # Batch size for augmentation processing

# Background noise paths (need to be downloaded separately)
# You can add AudioSet, FMA, or other background noise datasets here
background_paths: []  # Empty for now - add paths to background noise datasets
background_paths_duplication_rate: []  # Duplication rate for each background path

# Output directory
output_dir: "/home/localuser/source/reachy/openWakeWord/trained_models"

# Negative training data
custom_negative_phrases: []  # Custom phrases that sound similar to wake word

# Validation data (PRODUCTION - using proper validation set from HuggingFace)
false_positive_validation_data_path: "/home/localuser/source/reachy/openWakeWord/validation_set_features.npy"  # ~11 hours of diverse audio

# Feature extraction settings (PRODUCTION - includes ACAV100M)
feature_data_files:  # Feature files for training (maps class label to file path)
  "ACAV100M_sample": "/home/localuser/source/reachy/openWakeWord/acav100m_features.npy"  # 2000 hours of negative data
  "adversarial_negative": "/home/localuser/source/reachy/openWakeWord/trained_models/reachy/negative_features_train.npy"  # Phonetically similar
  "positive": "/home/localuser/source/reachy/openWakeWord/trained_models/reachy/positive_features_train.npy"  # Wake word clips
